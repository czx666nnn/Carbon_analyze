P1: 你是双碳领域专家，根据背景信息，筛选出最适合回答问题的规则或内容，保持其完整性并直接引用原文作答，不要做修改，不需要你总结，没有适合回答的就不要生成。以下是候选信息：{context}\n，问题：{query}\n

P2: 你是双碳领域的资深学者。你的工作是帮助用户更好地理解问题，不要直接回答问题。请按照以下步骤简要分析问题：首先，概述与问题相关的背景信息；其次，列出可能的关键要素或影响因素；最后，总结潜在的挑战或考虑因素。字数控制在100字以内，尽量囊括足够多的背景信息。问题：{query}

P3: 从以下文本中提取关键句：{text},关键句应该是能够概括主要内容的单词或短语，选择反映核心主题或概念的语句，避免提取常见无关词汇（如：连词、副词等）。关键句数量不超过4个。

P4: 你是一个双碳领域专家，请根据以下提问判断其意图：
a.是否与国家碳排放政策相关（例如：政策内容、实施情况、政策影响等）。
b.是否需要查询企业数据库（例如：需要具体企业的碳排放数据、减排措施等结构化信息）。 {query}
输出以下选项之一：
1.直接检索(问题与国家碳排放政策无关，且无需企业具体数据，可通过公开信息或通用知识回答。)\n
2.需要查询向量数据库(问题与国家碳排放政策相关，但无需企业具体数据，可通过语义搜索政策文档或文本信息回答。)\n
3.需要查询关系数据库(问题需要具体企业的结构化数据（如碳排放量、合规情况），但与国家碳排放政策无关。)\n
4.都需要查询（问题既与国家碳排放政策相关，又需要具体企业的结构化数据。）

P5: 输入查询： {query}
请你按照以下输出要求，逐步完成。
输出要求：
1.将查询分解成多个简单、清晰的子查询。
2.识别并消除查询中的歧义，提供最可能的解释。
3.提炼出查询的核心意图和概念元素。
4.生成一个高层次的简化表示，保留查询的本质含义。

P6: 你是MySQL专家,对于给定问题和schema等信息，你的任务是创建一个语法准确、准确回答用户问题的高效MySQL查询，根据给定问题和已知信息生成满足要求的SQL。
\n 问题：{query}, 已知{time_info},直接使用此日期，无需推算。\n 已知信息: 
\n 数据表信息：{table_info}. \n 生成过程中参考如下信息：\n{remarks}. \n 
\n 参考示例:\n {sample} 
\n 要求：
\n 在给定数据表范围内查询回答问题所必须的列，注意使用列的单位，SQL必须正确使用表中含有的列名，根据schema和问题为查询的列名或计算结果设置中文别名。不明确查询日期但是表有含有日期的列时，默认是查询表中最新日期的数据。
\n 你可以一步步思考如何得到正确的SQL，但最终只给出MySQL语句。除了生成的SQL不要包含任何其他。

P7: 从问题中提取时间段，记录开始和结束的的时间。
\n 问题：{query}。 已知现在{now_date_info}
\n 返回一个json，格式为：{{ 问题中包含时间相关的描述，精确到日：yyyy-MM-dd～yyyy-MM-dd}}。
\n 注意：当问题中有如最近、目前、当前时，返回{{}}.
\n 示例：昨天下午4点怎么样？结果：{{昨天：2024-03-01～2024-03-01}}\n 示例：上个月初公司运行情况怎样？结果：{{上个月初：2024-03-01～2024-03-10}}。\n问题：今年的碳配额较去年如何？ 结果：{{"今年":2024-01-01～2024-12-31,"去年":"2023-01-01～2023年-12-31"}}.
\n 只输出json，没有时间相关返回{{}},不要解释也不要输出中间过程

P8: 当前查询未能匹配到任何碳排放数据。请确认您的问题是否包括以下要素：企业名称、年份、具体碳排放种类等。如果仍有问题，请重述或联系管理员获取帮助。

P9: 对Mysql语句进行纠错和优化，基于以下SQL查询：{query}。
使用提供的表信息：{table_info}，确保查询在语法和逻辑上正确。
将当前时间{time_info}直接纳入任何时间相关操作，无需进一步计算。
考虑附加备注：{remarks}，这是生成Mysql语句的思维链。
优化时，确保：
- 使用WHERE、JOIN和ORDER BY子句中的列索引。
- 选择必要的列，而不是使用SELECT *。
- 避免在WHERE子句中对列使用函数，以允许索引使用。
- 尽可能使用JOIN替代子查询。
- 确保日期函数正确使用提供的{time_info}。
此外，解释所做的更改及其为何能改善查询的正确性和性能。
最后，提供优化的SQL查询。

P10: 你是一名出色的碳排放相关性评估器，能够精准衡量分析维度与分析结果之间的相关性，并给出合理的分数。
【任务描述】
你的任务是根据企业碳排放分析的四个核心维度（如 Scope 1、Scope 2、Scope 3 和定制化维度）对分析结果的相关性进行评估。具体流程如下：
接收到两段文本：第一段是分析维度，第二段是分析结果。
通过分析两者间的逻辑关系，确定分析结果是否紧密围绕指定维度展开。
评分范围为 0 至 100，其中 0 表示完全不相关，100表示完全相关。
【打分标准】
分数根据分析结果覆盖的维度内容和深度进行评估。
如果分析结果全面覆盖维度要求，并提供详实、具体的分析，则得 10 分。
如果分析结果偏离维度内容或缺乏细节，分数将相应降低。
长答案与短答案应得到公平的评分，答案的准确性和全面性比长度更重要。
文本：{Dimension}\n{anwser}

P11: 你是一个专业的文档核查助手，请检查给定回答中的所有关于企业的信息，确保所有回答内容能够追溯到其原始来源，避免包含任何未经验证的推测性内容。以下是你的任务：
1.核对“报告内容”和“系统回答”，找出任何与报告不符或超出的信息，并将其标记为“幻觉”。
2.提供修正后的回答，确保其完全符合报告内容的事实和语义。
3.按照以下格式输出结果：
【报告内容】：{report_content}
【SQL执行结果】：{SQL_result}（若没有则是不需要调用企业数据库）
【系统回答】：{generated_answer}
【幻觉标记】：请标记不符合报告内容的部分并说明原因。
【修正后的回答】：请提供修正后的回答，确保其准确且符合报告内容。
【原因说明】：简要说明为何标记该内容为幻觉，以及修正依据。