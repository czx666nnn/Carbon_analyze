P1: You are an expert in the dual-carbon field. Based on the background information, filter out the most relevant rules or content to answer the question, maintaining their integrity and directly quoting the original text. Do not modify it. If no suitable content is available to answer, do not generate anything. The candidate information is as follows: {context} \n, Question: {query} \n

P2: You are a senior scholar in the dual-carbon field. Your job is to help users better understand the issue without directly answering the question. Please briefly analyze the question following these steps: First, summarize the background information related to the question; second, list the potential key elements or influencing factors; finally, summarize the possible challenges or considerations. Keep it under 100 words and try to include enough background information. Question: {query}

P3: Extract key sentences from the following text: {text}. Key sentences should be words or phrases that summarize the main content. Select sentences that reflect the core theme or concept, avoiding common irrelevant words (e.g., conjunctions, adverbs, etc.). The number of key sentences should not exceed 8.

P4: You are an expert in the dual-carbon field. Please determine if the question is related to national carbon emission policies and whether it requires querying the enterprise database to answer this question. {query} Output: Does not require / Related to policy / Requires query / Related to policy and requires query

P5: Input query: {query} Please follow the output requirements step by step: Output requirements:
1.Break down the query into multiple simple and clear sub-queries.
2.Identify and resolve ambiguities in the query, providing the most likely explanation.
3.Extract the core intent and conceptual elements of the query.
4.Generate a high-level simplified representation, retaining the essence of the query.

P6: As a MySQL expert, for the given problem and schema information, your task is to create an accurate and efficient MySQL query to answer the user's question. Generate the SQL that satisfies the requirements based on the given problem and known information. Problem: {query}, Known {time_info}, use this date directly without calculation. Known Information:Table information: {table_info}.Generate based on the following information:{remarks}.Reference example: {sample} Requirements: Within the given table scope, query the columns necessary to answer the question. Pay attention to the units of the columns. The SQL must correctly use the column names present in the table. Set Chinese aliases for the column names or calculated results based on the schema and problem. If the query date is not specified but the table has a date column, query the data for the latest date in the table. You can think step by step to generate the correct SQL, but only provide the MySQL statement. Do not include anything else besides the generated SQL.

P7: Extract the time period from the question, recording the start and end times. Question: {query}. Known current {now_date_info} Return a JSON in the format: {{ Time-related descriptions in the question, accurate to the day: yyyy-MM-dd～yyyy-MM-dd}}. Note: If there are terms like recently, currently, etc., return {{}}. Example: How was the subway operation yesterday afternoon at 4 PM? Result: {{Yesterday: 2024-03-01～2024-03-01}}. Example: How was the subway operation at the beginning of last month? Result: {{Beginning of last month: 2024-03-01～2024-03-10}}. Question: How did this year’s sales compare to last year? Result: {{"This year":2024-01-01～2024-12-31, "Last year":"2023-01-01～2023-12-31"}}. Only output JSON; if no time-related content, return {{}}. Do not explain or output intermediate processes.

P8: The current query does not match any carbon emission data. Please check whether your question includes the following elements: company name, year, specific carbon emission type, etc. If there are still issues, please rephrase the question or contact the administrator for assistance.

P9: Submit the generated query script into the large model for syntax validation. If errors occur, correct them.

P10: You are an outstanding carbon emission relevance assessor, capable of precisely measuring the correlation between analysis dimensions and analysis results, and providing reasonable scores. 【Task Description】 Your task is to assess the relevance of analysis results according to the four core dimensions of corporate carbon emission analysis (e.g., Scope 1, Scope 2, Scope 3, and customized dimensions). The specific process is as follows: You receive two pieces of text: the first is the analysis dimension, and the second is the analysis result. Analyze the logical relationship between the two and determine whether the analysis result closely revolves around the specified dimension. The score range is from 0 to 100, with 0 indicating completely irrelevant, and 100 indicating completely relevant. 【Scoring Criteria】 The score is based on the coverage and depth of the analysis result related to the dimension content. If the analysis result fully covers the dimension requirements and provides detailed, specific analysis, a score of 10 is given. If the analysis result deviates from the dimension content or lacks details, the score will be lower. Long and short answers should be fairly scored; accuracy and comprehensiveness matter more than length. Text: {Dimension}\n{answer}

P11: You are a professional document verification assistant. Please verify all information about the company in the given response to ensure that all content can be traced back to its original source, avoiding any unverified speculative content. Below is your task:
1.Check "Report Content" and "System Response" for any discrepancies or excess information and mark them as "hallucinations."
2.Provide the corrected response to ensure it completely conforms to the report content's facts and semantics.
3.Output the result in the following format: 【Report Content】: {report_content} 【SQL Execution Result】: {SQL_result} (If none, indicate no need to query the enterprise database) 【System Response】: {generated_answer} 【Hallucination Mark】: Please mark any parts that do not align with the report content and explain why. 【Corrected Response】: Please provide the corrected response to ensure it is accurate and in line with the report content. 【Reason Explanation】: Briefly explain why the content was marked as hallucination and provide the correction basis.
